<!DOCTYPE html>
<html lang="en" data-theme="dark"> <!-- default theme -->
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Link Manager</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <header class="sidebar-header">
        <h1>Categories</h1>
        <!-- Theme Picker -->
        <div class="theme-picker" id="themePicker">
          <button class="theme-button" id="themeButton" aria-haspopup="true" aria-expanded="false">
            <span class="swatch" id="themeSwatch"></span>
            <span id="themeLabel">Dark</span>
          </button>
          <div class="theme-menu" id="themeMenu" role="menu" aria-label="Themes">
            <!-- Items populated by JS so swatches match tokens -->
          </div>
        </div>
      </header>

      <nav id="categoryList" class="category-list" aria-label="Categories">
        <!-- Populated by JS -->
      </nav>

      <form id="addCategoryForm" class="control add-form" autocomplete="off">
        <input id="newCategoryName" type="text" placeholder="New category…" required />
        <button type="submit" class="btn">Add</button>
      </form>
    </aside>

    <!-- Main -->
    <main class="main">
      <header class="main-header">
        <div class="title-group">
          <h2 id="currentCategoryTitle">All Links</h2>
          <span id="linkCount" class="muted"></span>
        </div>

        <div class="actions">
          <button id="addLinkBtn" class="btn primary">+ Add Link</button>
          <button id="editCategoryBtn" class="btn" title="Rename/Delete current category">Edit Category…</button>
        </div>
      </header>
      <div>
        <input type="search" id="searchLink" placeholder="Search links…" aria-label="Search links" />
      </div>
      <section id="cards" class="cards" aria-live="polite">
        <!-- Link cards populated by JS -->
      </section>
    </main>
  </div>

  <!-- Add/Edit Link Dialog -->
  <dialog id="linkDialog">
    <form id="linkForm" method="dialog">
      <h3 id="linkDialogTitle">Add Link</h3>
      <label>
        Link name
        <input id="linkName" type="text" required />
      </label>
      <label>
        URL
        <input id="linkUrl" type="url" placeholder="https://…" required />
      </label>
      <label>
        Description
        <textarea id="linkDesc" rows="3" placeholder="Optional"></textarea>
      </label>

      <menu class="dialog-actions">
        <button id="cancelLinkBtn" value="cancel" class="btn">Cancel</button>
        <button id="saveLinkBtn" value="confirm" class="btn primary">Save</button>
      </menu>
    </form>
  </dialog>

  <!-- Category Options Dialog -->
  <dialog id="categoryDialog">
    <form id="categoryForm" method="dialog">
      <h3>Category Options</h3>
      <label>
        Rename category
        <input id="renameCategoryInput" type="text" />
      </label>
      <div class="danger-zone">
        <p class="muted">Deleting a category will also delete its links.</p>
        <button id="deleteCategoryBtn" class="btn danger" type="button">Delete Category</button>
      </div>

      <menu class="dialog-actions">
        <button  value="cancel" class="btn">Close</button>
        <button id="saveCategoryBtn" value="confirm" class="btn primary">Save Name</button>
      </menu>
    </form>
  </dialog>

  <script type="module" src="app.js"></script>
</body>
</html>